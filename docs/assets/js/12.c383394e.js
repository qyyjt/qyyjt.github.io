(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{432:function(t,v,_){"use strict";_.r(v);var e=_(65),r=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"开发环境说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#开发环境说明"}},[t._v("#")]),t._v(" 开发环境说明")]),t._v(" "),_("p",[t._v("项目在开发时会对应多个开发环境，不同的环境会映射不同分支的代码")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("环境")]),t._v(" "),_("th",[t._v("域名")]),t._v(" "),_("th",[t._v("分支")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("dev 开发环境")]),t._v(" "),_("td",[t._v("appdev.finchina.com")]),t._v(" "),_("td",[t._v("dev")]),t._v(" "),_("td",[t._v("开发环境")])]),t._v(" "),_("tr",[_("td",[t._v("test 测试环境")]),t._v(" "),_("td",[t._v("apptest.finchina.com")]),t._v(" "),_("td",[t._v("master")]),t._v(" "),_("td",[t._v("当在 test 分支发生过代码变动时，内网编译器会自动将 test 分支的代码编译并发布到 test 域名")])]),t._v(" "),_("tr",[_("td",[t._v("uat 环境")]),t._v(" "),_("td",[t._v("appuat.finchina.com")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("预发布环境")])]),t._v(" "),_("tr",[_("td",[t._v("华为云 环境")]),t._v(" "),_("td",[t._v("apphwy.finchina.com")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("外网发布双机房域名")])]),t._v(" "),_("tr",[_("td",[t._v("外高桥 环境")]),t._v(" "),_("td",[t._v("appsh.finchina.com")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("外网发布双机房域名")])]),t._v(" "),_("tr",[_("td",[t._v("外网 环境")]),t._v(" "),_("td",[t._v("app.finchina.com")]),t._v(" "),_("td",[t._v("-")]),t._v(" "),_("td",[t._v("发布完毕，外网域名")])])])]),t._v(" "),_("h2",{attrs:{id:"dev-环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#dev-环境"}},[t._v("#")]),t._v(" dev 环境")]),t._v(" "),_("p",[t._v("我们在内网提交 dev 环境是，需要手动打包代码，然后把打包后的代码提交到 "),_("a",{attrs:{href:"https://192.168.100.188/svn/FC_APP/HTML/trunk",target:"_blank",rel:"noopener noreferrer"}},[t._v("dev 环境对应的 svn 地址"),_("OutboundLink")],1),t._v(" ，内网编译器会自动将 svn 上的打包后的代码，推送到 dev 环境，一般在提交到 svn 10 分钟左右可以看到效果。")]),t._v(" "),_("p",[t._v("大部分项目都可以使用 "),_("RouterLink",{attrs:{to:"/project/gulpConfig.html"}},[t._v("gulp")]),t._v(" 自动构建部署，你只需要修改 "),_("code",[t._v("gulpfile.js")]),t._v(" 这个配置文件中的内容，然后运行 "),_("code",[t._v("gulp")]),t._v(" 命令，就可以打包、将打包后的代码更新到 svn，并且更新到 dev 环境的服务器，这样就可以立即在浏览器看到效果；若个别无法使用 gulp，可以使用用手动提交的方法。")],1),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),_("p",[t._v("若 gulp 之后发现源码文件被删除了，可能是 TortoiseSVN 安装的时候没有全部勾选，需重装 TortoiseSVN")])]),t._v(" "),_("p",[t._v("通常情况，dev 环境的东西是比 test 环境和其它环境的功能多的，因为里面包括很多还没有发布出去的需求。")]),t._v(" "),_("p",[t._v("运行 "),_("code",[t._v("gulp")]),t._v(" 命令之前需要修改下 "),_("code",[t._v("gulpfile.js")]),t._v(" 中的提交日志，并确保各个目录正确")]),t._v(" "),_("p",[t._v("如果 gulp 后在 appdev 域名下久久看不到代码生效， 可能是以下原因之一造成的：")]),t._v(" "),_("ol",[_("li",[t._v("gulp 时候报错，可查看 gulp 日志")]),t._v(" "),_("li",[t._v("输入代码的 dist 目录和配置文件中的名称不一致")])]),t._v(" "),_("p",[t._v("或者可以直接登陆 dev 环境的服务器，进入代码对应的目录，检查服务器上的文件是否被更新了")]),t._v(" "),_("h2",{attrs:{id:"test-环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#test-环境"}},[t._v("#")]),t._v(" test 环境")]),t._v(" "),_("p",[t._v("相较于 dev 环境，test 环境是一个比较稳定的环境，因为它只有在项目升级时，才会提交代码。你可以把 test 环境看做是一个早期的预发布环境。")]),t._v(" "),_("p",[t._v("在项目需要发布新版本时，可在"),_("a",{attrs:{href:"http://project.finchina.com/AppProject/",target:"_blank",rel:"noopener noreferrer"}},[t._v("禅道看板"),_("OutboundLink")],1),t._v("中查看已经定版的需求，")]),t._v(" "),_("p",[t._v("若我们的源码在"),_("strong",[t._v("git")]),t._v("上，会将定版的需求集中提交到 master 分支。推送的方式也异于 dev 的 push 方式，你须要使用 "),_("a",{attrs:{href:"https://git.finchina.com/groups/hf-develop/web/app/-/merge_requests",target:"_blank",rel:"noopener noreferrer"}},[t._v("merge request"),_("OutboundLink")],1),t._v(" 的方式请求合并，在请求合并之后需要联系升级相关负责人完成提交合并。")]),t._v(" "),_("p",[t._v("若我们的源码在"),_("strong",[t._v("svn")]),t._v("上，提交的方式和 dev 环境开发时的手动提交方式相同，就是把打包后的代码，提交到 "),_("a",{attrs:{href:"https://192.168.100.188/svn/FC_APP/HTML/release",target:"_blank",rel:"noopener noreferrer"}},[t._v("test 环境对应的 svn 地址"),_("OutboundLink")],1),t._v("；内网编译器会自动将 svn 上的打包后的代码，推送到 test 环境，一般在提交到 svn 10 分钟左右可以看到效果；提交之后记得在"),_("code",[t._v("企业预警通APP")]),t._v("中切换到 test 环境自测")]),t._v(" "),_("h2",{attrs:{id:"uat-环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#uat-环境"}},[t._v("#")]),t._v(" uat 环境")]),t._v(" "),_("p",[t._v("uat 环境是一个预发布环境。")]),t._v(" "),_("p",[t._v("一般进入这个发布环境之前，都会有升级单走升级流程。之后，将 test 环境的编译包升级到该环境。")]),t._v(" "),_("p",[t._v("进入到这个环境就意味着版本趋于稳定了，不会存在较大的改动，可能会有一些小的 bug 和样式修复；若又需要修复的问题，修复之后，需要联系项目经理或负责人重发 uat")]),t._v(" "),_("h2",{attrs:{id:"华为云和外高桥"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#华为云和外高桥"}},[t._v("#")]),t._v(" 华为云和外高桥")]),t._v(" "),_("p",[t._v("预警通线上有两个机房互相切换，即“双活”，这里的两个机房分别是华为云和外高桥。")]),t._v(" "),_("p",[t._v("当升级外网时，为了不影响外网用户的使用，会对其中一个机房进行下线升级，升级完毕之后，该机房上线，再对另一个机房下线进行同样操作。")]),t._v(" "),_("h2",{attrs:{id:"外网环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#外网环境"}},[t._v("#")]),t._v(" 外网环境")]),t._v(" "),_("p",[t._v("对应公网版本。")])])}),[],!1,null,null,null);v.default=r.exports}}]);