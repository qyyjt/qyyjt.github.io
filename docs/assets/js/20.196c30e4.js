(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{442:function(t,p,a){"use strict";a.r(p);var v=a(65),_=Object(v.a)({},(function(){var t=this,p=t.$createElement,a=t._self._c||p;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("实现方案一：")]),t._v(" "),a("p",[t._v("![image-20210527163426409](C:\\Users\\Administrator\\AppData\\Roaming\\Typora\\typora-user-images\\image-20210527163426409.png"),a("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210527164519909.png",alt:"image-20210527164519909"}})]),t._v(" "),a("p",[t._v("当滚动 tableBody 时监听 tableBody 的滚动距离，用 tableBody 滚动距离去设置 tableHead 的距离，H5 方案如此，但小程序出现滚动不连贯问题。")]),t._v(" "),a("p",[a("strong",[t._v("原因：")])]),t._v(" "),a("p",[t._v("​ 监听 tableBody 的滚动距离事件（bindscroll）响应慢且响应粒度太大，比如滑动时 可能第一次返回滚动距离为 1px，第二次返回的滚动距离为 10px,")]),t._v(" "),a("p",[t._v("导致 tableHead 的偏移量直接从 1px 跳到 10px，可以明显感觉到跳动。")]),t._v(" "),a("p",[a("strong",[t._v("解决思路：")])]),t._v(" "),a("p",[t._v("​ 换用其他 api 如 touchMove 监听当前滚动，触发频率会增加 5 倍左右，但是 touchMove 回调返回的是触摸时的位置坐标，要考虑惯性，吸附，边际等问题，计算难度很大，仅理论上存在解决的可能性。")]),t._v(" "),a("p",[a("strong",[t._v("根本原因：")])]),t._v(" "),a("p",[t._v("​ 监听 tableBody 的滚动事件（bindscroll）响应频率太低")]),t._v(" "),a("p",[t._v("实现方案二：")]),t._v(" "),a("p",[a("img",{attrs:{src:"C:%5CUsers%5CAdministrator%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210527165603468.png",alt:"image-20210527165603468"}})]),t._v(" "),a("p",[t._v("当前页面 body 可以上下左右滚动，列头和表头 做了固定处理。")]),t._v(" "),a("p",[a("strong",[t._v("问题：")])]),t._v(" "),a("p",[t._v("可以斜着滑动，左右滚动时偶现出现上下移动的情况。")]),t._v(" "),a("p",[a("strong",[t._v("问题分析：")])]),t._v(" "),a("p",[t._v("1、斜着滑动这种情况 H5 也是如此，为正常情况，app 上的 H5 页面采用的是第一种方案（不适用小程序故被排除）不会出现次现象。")]),t._v(" "),a("p",[t._v("2、左右滚动时偶现出现上下移动的情况 ios 出现，安卓未复现。推测是小程序 IOS 内核关于滚动的计算机制引起，滚动时滑动方向存在倾斜角，而内核处理时没有忽略无用的滑动方向的距离，导致在上下滑动时出现了左右的滑动距离。与第一条类似。")]),t._v(" "),a("p",[a("strong",[t._v("解决思路：")])]),t._v(" "),a("p",[t._v("​ 版本回退到方案一，使用方案一的结局方案。")]),t._v(" "),a("p",[a("strong",[t._v("根本原因：")])]),t._v(" "),a("p",[t._v("​ ios 小程序浏览器内核的滚动机制如此。")]),t._v(" "),a("p",[t._v("​")])])}),[],!1,null,null,null);p.default=_.exports}}]);